<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Editar Moto - SysTrack</title>
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" th:href="@{/css/motos.css}">
</head>
<body>
<div th:replace="fragments/header :: header"></div>

<div class="page-content">
    <h1>Editar Moto</h1>

    <form th:action="@{'/motos/atualizar/' + ${moto.id}}" method="post" class="form-container">
        <div th:if="${erro}" class="error-message" th:text="${erro}"></div>

        <label for="placa">Placa:</label>
        <input type="text" id="placa" name="placa" th:value="${moto.placa}" required/>

        <label for="modelo">Modelo:</label>
        <input type="text" id="modelo" name="modelo" th:value="${moto.modelo}" required/>

        <label for="ano">Ano:</label>
        <input type="number" id="ano" name="ano" th:value="${moto.ano}" required min="1900" max="2100"/>

        <label for="quilometragem">Quilometragem (km):</label>
        <input type="number" id="quilometragem" name="quilometragem" th:value="${moto.quilometragem}" required step="0.1" min="0"/>

        <label for="status">Status:</label>
        <select id="status" name="status" required>
            <option value="FUNCIONAL" th:selected="${moto.status == 'FUNCIONAL'}">Funcional</option>
            <option value="MANUTENCAO" th:selected="${moto.status == 'MANUTENCAO'}">Manutenção</option>
        </select>

        <label for="patio">Pátio:</label>
        <select id="patio" name="patioId" required>
            <option th:each="patio : ${patios}"
                    th:value="${patio.id}"
                    th:text="${patio.nome}"
                    th:selected="${patio.id} == ${moto.patioId}">
            </option>
        </select>

        <label for="usuario">Usuário:</label>
        <select id="usuario" name="usuarioId" required>
            <option th:each="usuario : ${usuarios}"
                    th:value="${usuario.id}"
                    th:text="${usuario.nome}"
                    th:selected="${usuario.id} == ${moto.usuarioId}">
            </option>
        </select>

        <button type="submit" class="btn btn-primary">Salvar</button>
    </form>

    <a th:href="@{/motos/gerenciar}" class="back-home">Voltar para Gerenciar Motos</a>
</div>

<div th:replace="fragments/footer :: footer"></div>
</body>
</html>
